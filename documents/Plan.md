# Планирование

## Перечень автоматизируемых сценариев

Тестовые данные:

1. Номер карты (APPROVED) - 4444 4444 4444 4441.
2. Номер карты (DECLINED) - 4444 4444 4444 4442;

## Frontend

1. Успешная покупка тура при валидном заполнение формы "Оплата по карте" по  карте APPROVED

- Открыть веб-страницу http://localhost:8080/
- Кликнуть на кнопке "Купить"
- В поле "Номер карты" ввести: 4444 4444 4444 4441
- В поле "Месяц" ввести значение от 01 до 12 (месяц не должен быть меньше текущего)
- В поле "Год" ввести последние 2 цифры года (год не должен быть меньше текущего)
- В поле "Владелец" ввести латинецей имя и фамилию владельца (через пробел в верхнем регистре) 
- В поле "CVC/CVV" ввести число из 3 цифр
- Кликнуть на кнопку «Продолжить»
   
Ожидаемый результат: появится уведомление об успешной покупки тура: "Успешно. Операция одобрена Банком"

2. Успешная покупка тура в кредит при валидном заполнение формы "Кредит по данным карты" по  карте APPROVED  

- Открыть веб-страницу http://localhost:8080/
- Кликнуть по кнопке "Купить в кредит"
- В поле "Номер карты" ввести: 4444 4444 4444 4441
- В поле "Месяц" ввести значение от 01 до 12 (месяц не должен быть меньше текущего)
- В поле "Год" ввести последние 2 цифры года (год не должен быть меньше текущего)
- В поле "Владелец" ввести латинецей имя и фамилию владельца (через пробел в верхнем регистре)
- В поле "CVC/CVV" ввести число из 3 цифр
- Кликнуть на кнопку «Продолжить»

Ожидаемый результат: появится уведомление об успешной покупки тура в кредит: "Успешно. Операция одобрена Банком"

3. Отказ в покупке тура при валидном заполнение формы "Оплата по карте" по карте DECLINED

- Открыть веб-страницу http://localhost:8080/
- Кликнуть по кнопке "Купить"
- В поле "Номер карты" ввести: 4444 4444 4444 4442
- В поле "Месяц" ввести значение от 01 до 12 (месяц не должен быть меньше текущего)
- В поле "Год" ввести последние 2 цифры года (год не должен быть меньше текущего)
- В поле "Владелец" ввести латинецей имя и фамилию владельца (через пробел в верхнем регистре)
- В поле "CVC/CVV" ввести число из 3 цифр
- Кликнуть на кнопку «Продолжить»

Ожидаемый результат: появится уведомление об отказе покупки тура: "Ошибка! Банк отказал в проведении операции"

4. Отказ в покупке тура в кередит при валидном заполнение формы "Кредит по данным карты" по карте DECLINED 

- Открыть веб-страницу http://localhost:8080/
- Кликнуть по кнопке "Купить в кредит"
- В поле "Номер карты" ввести: 4444 4444 4444 4442
- В поле "Месяц" ввести значение от 01 до 12 (месяц не должен быть меньше текущего)
- В поле "Год" ввести последние 2 цифры года (год не должен быть меньше текущего)
- В поле "Владелец" ввести латинецей имя и фамилию владельца (через пробел в верхнем регистре)
- В поле "CVC/CVV" ввести число из 3 цифр
- Кликнуть на кнопку «Продолжить»

Ожидаемый результат: появится уведомление об отказе покупки тура в кередит: "Ошибка! Банк отказал в проведении операции"

5. Заполнение формы валидными данными формы "Оплата по карте", с последующим переходом на форму "Кредит по данным карты"

- Открыть веб-страницу http://localhost:8080/
- Кликнуть по кнопке "Купить"
- В поле "Номер карты" ввести: 4444 4444 4444 4441
- В поле "Месяц" ввести значение от 01 до 12 (месяц не должен быть меньше текущего)
- В поле "Год" ввести последние 2 цифры года (год не должен быть меньше текущего)
- В поле "Владелец" ввести латинецей имя и фамилию владельца (через пробел в верхнем регистре)
- В поле "CVC/CVV" ввести число из 3 цифр
- Кликнуть на кнопку «Купить в кредит»

Ожидаемый результат: форма переключиться, поля останутся заполненными теми же данными

6. Заполнение формы валидными данными формы "Кредит по данным карты", с последующим переходом на форму "Оплата по карте"

- Открыть веб-страницу http://localhost:8080/
- Кликнуть по кнопке "Купить в кредит"
- В поле "Номер карты" ввести: 4444 4444 4444 4441
- В поле "Месяц" ввести значение от 01 до 12 (месяц не должен быть меньше текущего)
- В поле "Год" ввести последние 2 цифры года (год не должен быть меньше текущего)
- В поле "Владелец" ввести латинецей имя и фамилию владельца (через пробел в верхнем регистре)
- В поле "CVC/CVV" ввести число из 3 цифр
- Кликнуть на кнопку «Купить»  

Ожидаемый результат: форма переключиться, поля останутся заполненными теми же данными

7. Оставление поля "Номер карты" пустым, остальные поля заполнены валидно в форме "Оплата по карте" 

- Открыть веб-страницу http://localhost:8080/
- Кликнуть по кнопке "Купить"
- Поле "Номер карты" отсавить пустым
- В поле "Месяц" ввести значение от 01 до 12 (месяц не должен быть меньше текущего)
- В поле "Год" ввести последние 2 цифры года (год не должен быть меньше текущего)
- В поле "Владелец" ввести латинецей имя и фамилию владельца (через пробел в верхнем регистре)
- В поле "CVC/CVV" ввести число из 3 цифр
- Кликнуть на кнопку «Продолжить»  

Ожидаемый результат: под полем "Номер карты" появиться уведомление: "Неверный формат"

8. Оставление поля "Месяц" пустым, остальные поля заполнены валидно в форме "Оплата по карте"  

- Открыть веб-страницу http://localhost:8080/
- Кликнуть на кнопке "Купить"
- В поле "Номер карты" ввести: 4444 4444 4444 4441
- Поле "Месяц" оставить пустым
- В поле "Год" ввести последние 2 цифры года (год не должен быть меньше текущего)
- В поле "Владелец" ввести латинецей имя и фамилию владельца (через пробел в верхнем регистре)
- В поле "CVC/CVV" ввести число из 3 цифр
- Кликнуть на кнопку «Продолжить»

Ожидаемый результат: под полем "Месяц" появиться уведомление: "Неверный формат"

9. Заполнение поля "Месяц" значением от 1 до 9, остальные поля заполнены валидно в форме "Оплата по карте" 

- Открыть веб-страницу http://localhost:8080/
- Кликнуть на кнопке "Купить"
- В поле "Номер карты" ввести: 4444 4444 4444 4441
- В поле "Месяц" ввести значение от 1 до 9
- В поле "Год" ввести последние 2 цифры года (год не должен быть меньше текущего)
- В поле "Владелец" ввести латинецей имя и фамилию владельца (через пробел в верхнем регистре)
- В поле "CVC/CVV" ввести число из 3 цифр
- Кликнуть на кнопку «Продолжить»

Ожидаемый результат: в поле "Месяц" форма автоматически добавит 0 в начало 

10. Заполнение поля "Месяц" значением 00, остальные поля заполнены валидно* в форме "Оплата по карте" тура "Путешествие дня"  

- Открыть веб-страницу http://localhost:8080/
- Кликнуть на кнопке "Купить"
- В поле "Номер карты" ввести: 4444 4444 4444 4441
- В поле "Месяц" ввест: 00
- В поле "Год" ввести последние 2 цифры года (год не должен быть меньше текущего)
- В поле "Владелец" ввести латинецей имя и фамилию владельца (через пробел в верхнем регистре)
- В поле "CVC/CVV" ввести число из 3 цифр
- Кликнуть на кнопку «Продолжить»

Ожидаемый результат: под полем "Месяц" появиться уведомление: "Неверный формат"

11. Заполнение поля "Месяц" значением 01, остальные поля заполнены валидно в форме "Оплата по карте" 

- Открыть веб-страницу http://localhost:8080/
- Кликнуть на кнопке "Купить"
- В поле "Номер карты" ввести: 4444 4444 4444 4441
- В поле "Месяц" ввести: 01
- В поле "Год" ввести последние 2 цифры года (год не должен быть меньше текущего)
- В поле "Владелец" ввести латинецей имя и фамилию владельца (через пробел в верхнем регистре)
- В поле "CVC/CVV" ввести число из 3 цифр
- Кликнуть на кнопку «Продолжить»

Ожидаемый результат: появится уведомление об успешной покупки тура: "Успешно. Операция одобрена Банком"

12. Заполнение поля "Месяц" значением 12, остальные поля заполнены валидно в форме "Оплата по карте"

- Открыть веб-страницу http://localhost:8080/
- Кликнуть на кнопке "Купить"
- В поле "Номер карты" ввести: 4444 4444 4444 4441
- В поле "Месяц" ввести: 12
- В поле "Год" ввести последние 2 цифры года (год не должен быть меньше текущего)
- В поле "Владелец" ввести латинецей имя и фамилию владельца (через пробел в верхнем регистре)
- В поле "CVC/CVV" ввести число из 3 цифр
- Кликнуть на кнопку «Продолжить»

Ожидаемый результат: появится уведомление об успешной покупки тура: "Успешно. Операция одобрена Банком"

13. Заполнение поля "Месяц" значением 13, остальные поля заполнены валидно в форме "Оплата по карте" 

- Открыть веб-страницу http://localhost:8080/
- Кликнуть на кнопке "Купить"
- В поле "Номер карты" ввести: 4444 4444 4444 4441
- В поле "Месяц" ввести: 13
- В поле "Год" ввести последние 2 цифры года (год не должен быть меньше текущего)
- В поле "Владелец" ввести латинецей имя и фамилию владельца (через пробел в верхнем регистре)
- В поле "CVC/CVV" ввести число из 3 цифр
- Кликнуть на кнопку «Продолжить»

Ожидаемый результат: под полем "Месяц" появиться уведомление: "Неверно указан срок действия карты"

14. Оставление поля "Год" пустым, остальные поля заполнены валидно в форме "Оплата по карте" 

- Открыть веб-страницу http://localhost:8080/
- Кликнуть по кнопке "Купить"
- Поле "Номер карты" отсавить пустым
- В поле "Месяц" ввести значение от 01 до 12 (месяц не должен быть меньше текущего)
- Поле "Год" оставить пустым
- В поле "Владелец" ввести латинецей имя и фамилию владельца (через пробел в верхнем регистре)
- В поле "CVC/CVV" ввести число из 3 цифр
- Кликнуть на кнопку «Продолжить»

Ожидаемый результат: под полем "Год" появиться уведомление: "Неверный формат"

15. Заполнение поля "Год" предыдущим годом, остальные поля заполнены валидно в форме "Оплата по карте" 

- Открыть веб-страницу http://localhost:8080/
- Кликнуть на кнопке "Купить"
- В поле "Номер карты" ввести: 4444 4444 4444 4441
- В поле "Месяц" ввести значение от 01 до 12 (месяц не должен быть меньше текущего)
- В поле "Год" ввести последние 2 цифры предыдущего года
- В поле "Владелец" ввести латинецей имя и фамилию владельца (через пробел в верхнем регистре)
- В поле "CVC/CVV" ввести число из 3 цифр
- Кликнуть на кнопку «Продолжить»

Ожидаемый результат: под полем "Год" появиться уведомление: "Неверно указан срок действия карты"

16. Заполнение поля "Месяц" предыдущим месяцем, а поля "Год" текущем годом, остальные поля заполнены валидно в форме "Оплата по карте"

- Открыть веб-страницу http://localhost:8080/
- Кликнуть на кнопке "Купить"
- В поле "Номер карты" ввести: 4444 4444 4444 4441
- В поле "Месяц" ввести предыдущий месяц
- В поле "Год" ввести последние 2 цифры года (год не должен быть меньше текущего)
- В поле "Владелец" ввести латинецей имя и фамилию владельца (через пробел в верхнем регистре)
- В поле "CVC/CVV" ввести число из 3 цифр
- Кликнуть на кнопку «Продолжить»

Ожидаемый результат: под полем "Месяц" появиться уведомление: "Неверно указан срок действия карты"

17. Оставление поля "Владелец" пустым, остальные поля заполнены валидно* в форме "Оплата по карте" тура "Путешествие дня"

- Открыть веб-страницу http://localhost:8080/
- Кликнуть на кнопке "Купить"
- В поле "Номер карты" ввести: 4444 4444 4444 4441
- В поле "Месяц" ввести значение от 01 до 12 (месяц не должен быть меньше текущего)
- В поле "Год" ввести последние 2 цифры года (год не должен быть меньше текущего)
- Поле "Владелец" оставить пустым
- В поле "CVC/CVV" ввести число из 3 цифр
- Кликнуть на кнопку «Продолжить»

Ожидаемый результат: под полем "Владелец" появиться уведомление: "Неверный формат"

18. Заполнение поля "Владелец" валидными данными с использованием дефиса, остальные поля заполнены валидно в форме "Оплата по карте"

- Открыть веб-страницу http://localhost:8080/
- Кликнуть на кнопке "Купить"
- В поле "Номер карты" ввести: 4444 4444 4444 4441
- В поле "Месяц" ввести значение от 01 до 12 (месяц не должен быть меньше текущего)
- В поле "Год" ввести последние 2 цифры года (год не должен быть меньше текущего)
- В поле "Владелец" ввести латинецей имя и фамилию владельца с использование дефиса (через пробел в верхнем регистре)
- В поле "CVC/CVV" ввести число из 3 цифр
- Кликнуть на кнопку «Продолжить»

Ожидаемый результат: появится уведомление об успешной покупки тура: "Успешно. Операция одобрена Банком"

19. Заполнение поля "Владелец" в нижнем регистре, остальные поля заполнены валидно в форме "Оплата по карте"

- Открыть веб-страницу http://localhost:8080/
- Кликнуть на кнопке "Купить"
- В поле "Номер карты" ввести: 4444 4444 4444 4441
- В поле "Месяц" ввести значение от 01 до 12 (месяц не должен быть меньше текущего)
- В поле "Год" ввести последние 2 цифры года (год не должен быть меньше текущего)
- В поле "Владелец" ввести латинецей имя и фамилию владельца (через пробел в нижнем регистре)
- В поле "CVC/CVV" ввести число из 3 цифр
- Кликнуть на кнопку «Продолжить»

Ожидаемый результат: форма автоматчески переведёт поле "Владелец" в верхний регистр

20. Заполнение поля "Владелец" кириллицей, остальные поля заполнены валидно в форме "Оплата по карте"

- Открыть веб-страницу http://localhost:8080/
- Кликнуть на кнопке "Купить"
- В поле "Номер карты" ввести: 4444 4444 4444 4441
- В поле "Месяц" ввести значение от 01 до 12 (месяц не должен быть меньше текущего)
- В поле "Год" ввести последние 2 цифры года (год не должен быть меньше текущего)
- В поле "Владелец" ввести кириллицей имя и фамилию владельца (через пробел в верхнем регистре)
- В поле "CVC/CVV" ввести число из 3 цифр
- Кликнуть на кнопку «Продолжить»

Ожидаемый результат: под полем "Владелец" появиться уведомление: "Неверный формат"

21. Заполнение поля "Владелец" случайными спецсимволами, остальные поля заполнены валидно в форме "Оплата по карте" 

- Открыть веб-страницу http://localhost:8080/
- Кликнуть на кнопке "Купить"
- В поле "Номер карты" ввести: 4444 4444 4444 4441
- В поле "Месяц" ввести значение от 01 до 12 (месяц не должен быть меньше текущего)
- В поле "Год" ввести последние 2 цифры года (год не должен быть меньше текущего)
- В поле "Владелец" ввести: 123!;%№
- В поле "CVC/CVV" ввести число из 3 цифр
- Кликнуть на кнопку «Продолжить»

Ожидаемый результат: под полем "Владелец" появиться уведомление: "Неверный формат"

22. Оставление поля "CVC/CVV" пустым, остальные поля заполнены валидно в форме "Оплата по карте"

- Открыть веб-страницу http://localhost:8080/
- Кликнуть на кнопке "Купить"
- В поле "Номер карты" ввести: 4444 4444 4444 4441
- В поле "Месяц" ввести значение от 01 до 12 (месяц не должен быть меньше текущего)
- В поле "Год" ввести последние 2 цифры года (год не должен быть меньше текущего)
- В поле "Владелец" ввести латинецей имя и фамилию владельца (через пробел в верхнем регистре)
- Поле "CVC/CVV" оставить пустым
- Кликнуть на кнопку «Продолжить»

Ожидаемый результат: под полем "CVC/CVV" появиться уведомление: "Неверный формат"

23. Заполнение поля "CVC/CVV" двумя случайными цифрами, остальные поля заполнены валидно в форме "Оплата по карте" 

- Открыть веб-страницу http://localhost:8080/
- Кликнуть на кнопке "Купить"
- В поле "Номер карты" ввести: 4444 4444 4444 4441
- В поле "Месяц" ввести значение от 01 до 12 (месяц не должен быть меньше текущего)
- В поле "Год" ввести последние 2 цифры года (год не должен быть меньше текущего)
- В поле "Владелец" ввести латинецей имя и фамилию владельца (через пробел в верхнем регистре)
- В поле "CVC/CVV" ввести число из 2 цифр
- Кликнуть на кнопку «Продолжить»

Ожидаемый результат: под полем "CVC/CVV" появиться уведомление: "Неверный формат"

### Backend

1. Отправка POST-запроса покупки с валидным body и данными карты APPROVED на http://localhost:9999/payment  
   Ожидаемый результат: Код состояния 200, в базе данных появляется запись


2. Отправка POST-запроса покупки в кредит с валидным body и данными карты APPROVED на  http://localhost:9999/credit  
   Ожидаемый результат: Код состояния 200, в базе данных появляется запись


3. Отправка POST-запроса покупки с валидным body и данными карты DECLINED на  http://localhost:9999/payment  
   Ожидаемый результат: Код состояния 200, в базе данных появляется запись


4. Отправка POST-запроса на покупку в кредит с валидным body и данными карты DECLINED на  http://localhost:9999/credit  
   Ожидаемый результат: Код состояния 200, в базе данных появляется запись


5. Отправка POST-запроса с незаполненным body на  http://localhost:9999/payment  
   Ожидаемый результат: Код состояния 400, в базе данных записи не появляются


6. Отправка POST-запроса с незаполненным body  на  http://localhost:9999/credit  
   Ожидаемый результат: Код состояния 400, в базе данных записи не появляются


7. Отправка POST-запроса покупки с незаполненным number в body, остальные данные заполнены валидно, на  http://localhost:9999/payment  
   Ожидаемый результат: Код состояния 400, в базе данных записи не появляются


8. Отправка POST-запроса на покупку в кредит с незаполненным number в body, остальные данные заполнены валидно, на  http://localhost:9999/credit  
   Ожидаемый результат: Код состояния 400, в базе данных записи не появляются


9. Отправка POST-запроса покупки с незаполненным month в body, остальные данные заполнены валидно, на  http://localhost:9999/payment  
   Ожидаемый результат: Код состояния 400, в базе данных записи не появляются


10. Отправка POST-запроса на покупку в кредит с  незаполненным month в body, остальные данные заполнены валидно, на  http://localhost:9999/credit  
   Ожидаемый результат: Код состояния 400, в базе данных записи не появляются


11. Отправка POST-запроса покупки с незаполненным year в body, остальные данные заполнены валидно, на  http://localhost:9999/payment  
   Ожидаемый результат: Код состояния 400, в базе данных записи не появляются


12. Отправка POST-запроса на покупку в кредит с незаполненным year в body, остальные данные заполнены валидно, на  http://localhost:9999/credit  
   Ожидаемый результат: Код состояния 400, в базе данных записи не появляются


13. Отправка POST-запроса покупки с незаполненным holder в body, остальные данные заполнены валидно, на  http://localhost:9999/payment  
   Ожидаемый результат: Код состояния 400, в базе данных записи не появляются


14. Отправка POST-запроса на покупку в кредит с незаполненным holder в body, остальные данные заполнены валидно, на  http://localhost:9999/credit  
   Ожидаемый результат: Код состояния 400, в базе данных записи не появляются


15. Отправка POST-запроса покупки с незаполненным cvc в body, остальные данные заполнены валидно, на  http://localhost:9999/payment  
   Ожидаемый результат: Код состояния 400, в базе данных записи не появляются


16. Отправка POST-запроса на покупку в кредит с незаполненным cvc в body, остальные данные заполнены валидно, на  http://localhost:9999/credit  
   Ожидаемый результат: Код состояния 400, в базе данных записи не появляются


## перечень используемых инструментов с обоснованием выбора

1. Среда: IDE: IntelliJ IDEA

2. Язык написания тестов: Java

3. Система для автоматизации сборки: Gradle - она бысрее + гибкое упралвение зависимостями

4. Репорт система: Allure - отчёты в очень удобном формате

5. Среда тестирования: TetsNG - обшмрная параметризация тестов + больше аннотаций


## перечень и описание возможных рисков при автоматизации

1. После запуска тестов нужно чистить базу данных

2. Есть со стороны банка произойдёт изменения в структуре или же в дизайне, то тетсы потеряют актуальность

3. Заполнения полей "Месяц" и "Год" должны со временем изменяться


## интервальная оценка с учётом рисков в часах

1. Настройка SUT: 6 - 10 часов

2. Создание автотестов: 6 - 10 часов

3. Написание баг-репортов по итогу тестов: 4-5 часов

4. Написание отчёта об автоматизации: 2-4 часа


## план сдачи работ: когда будут готовы автотесты, результаты их прогона

1. Готовность тестов через 8 - 10 рабочих дней, после соглосования планирования

2. Готовность отчетов по тестам через 4 - 6 рабочих дней после запуска тестов

3. Готовность отчёт по автоматизации через 2 - 3 рабочих дней после отчёта по тестам